{"ast":null,"code":"import React from'react';import ProgressReports from'./ProgressReports';import StreakHeatmap from'./StreakHeatmap';import Badges from'./Badges';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Analytics=_ref=>{let{habits,categories,earnedBadges=[]}=_ref;const calculateHabitSuccessRate=habit=>{if(!habit.history||habit.history.length===0){return 0;}let totalPossibleCompletions=0;let actualCompletions=0;habit.history.forEach(entry=>{totalPossibleCompletions+=habit.targetCompletions;actualCompletions+=Math.min(entry.completions,habit.targetCompletions);});if(totalPossibleCompletions===0){return 0;}return actualCompletions/totalPossibleCompletions*100;};const calculateCategorySuccessRate=categoryName=>{const habitsInCategory=habits.filter(habit=>habit.category===categoryName);if(habitsInCategory.length===0){return 0;}const totalSuccessRate=habitsInCategory.reduce((sum,habit)=>sum+calculateHabitSuccessRate(habit),0);return totalSuccessRate/habitsInCategory.length;};return/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-primary text-white\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:\"Analytics & Visualization\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title text-primary mb-3\",children:\"Habit Success Rates\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush\",children:habits.map(habit=>/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center\",children:[habit.name,/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-primary rounded-pill\",children:[calculateHabitSuccessRate(habit).toFixed(2),\"%\"]})]},habit.id))})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title text-primary mb-3\",children:\"Category Success Rates\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush\",children:categories.map(category=>/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center\",children:[category.name,/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-success rounded-pill\",children:[calculateCategorySuccessRate(category.name).toFixed(2),\"%\"]})]},category.id))})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-4\",children:/*#__PURE__*/_jsx(StreakHeatmap,{habits:habits,categories:categories})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-4\",children:/*#__PURE__*/_jsx(ProgressReports,{habits:habits})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-4\",children:/*#__PURE__*/_jsx(Badges,{earnedBadges:earnedBadges})})]})]})]});};export default Analytics;","map":{"version":3,"names":["React","ProgressReports","StreakHeatmap","Badges","jsx","_jsx","jsxs","_jsxs","Analytics","_ref","habits","categories","earnedBadges","calculateHabitSuccessRate","habit","history","length","totalPossibleCompletions","actualCompletions","forEach","entry","targetCompletions","Math","min","completions","calculateCategorySuccessRate","categoryName","habitsInCategory","filter","category","totalSuccessRate","reduce","sum","className","children","map","name","toFixed","id"],"sources":["D:/Fully Updated Projects/CLI Test/habit-tracker/src/components/Analytics.js"],"sourcesContent":["\nimport React from 'react';\nimport ProgressReports from './ProgressReports';\nimport StreakHeatmap from './StreakHeatmap';\n\nimport Badges from './Badges';\n\nconst Analytics = ({ habits, categories, earnedBadges = [] }) => {\n  const calculateHabitSuccessRate = (habit) => {\n    if (!habit.history || habit.history.length === 0) {\n      return 0;\n    }\n\n    let totalPossibleCompletions = 0;\n    let actualCompletions = 0;\n\n    habit.history.forEach(entry => {\n      totalPossibleCompletions += habit.targetCompletions;\n      actualCompletions += Math.min(entry.completions, habit.targetCompletions);\n    });\n\n    if (totalPossibleCompletions === 0) {\n      return 0;\n    }\n\n    return (actualCompletions / totalPossibleCompletions) * 100;\n  };\n\n  const calculateCategorySuccessRate = (categoryName) => {\n    const habitsInCategory = habits.filter(habit => habit.category === categoryName);\n    if (habitsInCategory.length === 0) {\n      return 0;\n    }\n\n    const totalSuccessRate = habitsInCategory.reduce((sum, habit) => sum + calculateHabitSuccessRate(habit), 0);\n    return totalSuccessRate / habitsInCategory.length;\n  };\n\n  return (\n    <div className=\"card shadow-sm mt-4\">\n      <div className=\"card-header bg-primary text-white\">\n        <h3 className=\"mb-0\">Analytics & Visualization</h3>\n      </div>\n      <div className=\"card-body\">\n        <div className=\"row\">\n          <div className=\"col-md-6 mb-4\">\n            <div className=\"card h-100\">\n              <div className=\"card-body\">\n                <h4 className=\"card-title text-primary mb-3\">Habit Success Rates</h4>\n                <ul className=\"list-group list-group-flush\">\n                  {habits.map((habit) => (\n                    <li key={habit.id} className=\"list-group-item d-flex justify-content-between align-items-center\">\n                      {habit.name}\n                      <span className=\"badge bg-primary rounded-pill\">\n                        {calculateHabitSuccessRate(habit).toFixed(2)}%\n                      </span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"col-md-6 mb-4\">\n            <div className=\"card h-100\">\n              <div className=\"card-body\">\n                <h4 className=\"card-title text-primary mb-3\">Category Success Rates</h4>\n                <ul className=\"list-group list-group-flush\">\n                  {categories.map((category) => (\n                    <li key={category.id} className=\"list-group-item d-flex justify-content-between align-items-center\">\n                      {category.name}\n                      <span className=\"badge bg-success rounded-pill\">\n                        {calculateCategorySuccessRate(category.name).toFixed(2)}%\n                      </span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        \n\n          <div className=\"row\">\n          <div className=\"col-12 mb-4\">\n            <StreakHeatmap habits={habits} categories={categories} />\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"col-12 mb-4\">\n            <ProgressReports habits={habits} />\n          </div>\n          <div className=\"col-12 mb-4\">\n            <Badges earnedBadges={earnedBadges} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Analytics;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}